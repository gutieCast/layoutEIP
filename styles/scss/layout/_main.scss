@import "../abstract/mixins";
@import "../abstract/variables";
@import "../abstract/support";

main {
  height: 100vh;
  overflow-y: scroll;
  scroll-snap-type: y mandatory;
  // @include b-md {
  //   height: calc(100vh - #{$hHeader});
  // }
}

section {
  position: relative;
  scroll-snap-align: center;
  display: flex;
  flex-direction: column;
  align-content: center;
	justify-content: center;
  min-height: 100vh;
  height: 100vh;

  &:not(.hero) {
    @include noise(
      radial-gradient(
      circle closest-side at 85% 95%,
      $green 0%,
      rgba(0, 0, 0, 0.89) 100%
    ),
    $lines: true);
  }
}

.section-header {
  background-color: #000000de;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  position: sticky;
  top: 0;
  left: 0;
  padding: $s-md;
  color: white;
  height: $hHeader;
	flex: 0 0 auto;
  z-index: 2;
  width: 300px;

	@include b-md {
    width: 100%;
	}

  &::before, &::after {
    content:'';
    display: block;
    position: absolute;
  }
  &::before {
    background-color: white;
    bottom: 0;
    height: 1px;
    width: 300px;
  }
  &::after {
    left: 0;
    bottom: -3px;
    background-color: $green;
    height: 3px;
    width: 50px;
  }
  .section-title {
    h3 {
      padding-left: 10px;
      letter-spacing: 0.03em;
    }
  }
}


.section-content {
  padding: $s-sm;
	flex-grow: 1;
  display: flex;
	flex-wrap: wrap;
	align-content: center;
	// justify-content: center;
  position: relative;
  z-index: 1;

  > * {
		@include b-sm {
			opacity: 0;
			transform: translate3d(0, 4rem, 0);
      transition: opacity 800ms var(1000),
      transform 800ms cubic-bezier(0.13, 0.07, 0.26, 0.99) var(--delay);
		}
  }
}

.is-visible {
  .section-content > * {
    opacity: 1;
    text-align: center;
    transform: translate3d(0, 1rem, 0);
    animation: content-animation 3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards 1;
    transition: all 1500ms;
  }
}


.parallax-img {
  background-image: url("../../assets/photos/cat-at-night.jpg");
  background-attachment: fixed;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  width: 100%;
	height: 100%;
	object-fit: cover;
}